{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import SearchBar from\"./components/SearchBar\";import WeatherCard from\"./components/WeatherCard\";import MultiCityWeather from\"./components/MultiCityWeather\";import FiveDayForecast from\"./components/FiveDayForecast\";import{getCoordinates,getWeather}from\"./components/WeatherDisplay\";import\"./styles/App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[weather,setWeather]=useState(null);const[coords,setCoords]=useState(null);const[error,setError]=useState(\"\");const[loading,setLoading]=useState(false);const[timeOfDay,setTimeOfDay]=useState(\"day\");// Determine time of day for dynamic backgrounds\nuseEffect(()=>{const hour=new Date().getHours();if(hour>=6&&hour<18){setTimeOfDay(\"day\");}else if(hour>=18&&hour<20){setTimeOfDay(\"sunset\");}else{setTimeOfDay(\"night\");}},[]);const handleSearch=async city=>{setError(\"\");setWeather(null);setCoords(null);setLoading(true);try{const{latitude,longitude}=await getCoordinates(city);setCoords({latitude,longitude});const response=await fetch(\"/weather\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({city})});const contentType=response.headers.get(\"content-type\");if(!contentType||!contentType.includes(\"application/json\")){const text=await response.text();throw new Error(\"Server error: \"+text);}const data=await response.json();if(response.ok){setWeather(data);}else{setError(data.error||\"An error occurred.\");}}catch(err){setError(err.message||\"An error occurred.\");}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container \".concat(timeOfDay),children:[/*#__PURE__*/_jsx(\"div\",{className:\"background-overlay\"}),/*#__PURE__*/_jsx(\"div\",{className:\"floating-particles\",children:[...Array(20)].map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"particle\",style:{left:\"\".concat(Math.random()*100,\"%\"),animationDelay:\"\".concat(Math.random()*3,\"s\"),animationDuration:\"\".concat(3+Math.random()*4,\"s\")}},i))}),/*#__PURE__*/_jsxs(\"main\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"logo-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-icon\",children:\"\\uD83C\\uDF24\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"logo-text\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"app-title\",children:\"Weatherly\"}),/*#__PURE__*/_jsx(\"p\",{className:\"subtitle\",children:\"Your weather companion\"})]})]})}),/*#__PURE__*/_jsx(\"section\",{className:\"search-section\",children:/*#__PURE__*/_jsx(SearchBar,{onSearch:handleSearch})}),/*#__PURE__*/_jsxs(\"section\",{className:\"weather-display-section\",children:[loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{className:\"loading-text\",children:\"Fetching weather data...\"})]}),weather&&!loading&&/*#__PURE__*/_jsxs(\"div\",{className:\"weather-content\",children:[/*#__PURE__*/_jsx(WeatherCard,{weather:weather}),coords&&/*#__PURE__*/_jsx(\"div\",{className:\"forecast-wrapper\",children:/*#__PURE__*/_jsx(FiveDayForecast,{lat:coords.latitude,lon:coords.longitude})})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"error-icon\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error})]})]}),/*#__PURE__*/_jsx(\"section\",{className:\"multi-city-section\",children:/*#__PURE__*/_jsx(MultiCityWeather,{})})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"footer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"footer-content\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"footer-text\",children:[\"Powered by\",\" \",/*#__PURE__*/_jsx(\"a\",{href:\"https://open-meteo.com/\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"footer-link\",children:\"Open-Meteo\"})]})})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","SearchBar","WeatherCard","MultiCityWeather","FiveDayForecast","getCoordinates","getWeather","jsx","_jsx","jsxs","_jsxs","App","weather","setWeather","coords","setCoords","error","setError","loading","setLoading","timeOfDay","setTimeOfDay","hour","Date","getHours","handleSearch","city","latitude","longitude","response","fetch","method","headers","body","JSON","stringify","contentType","get","includes","text","Error","data","json","ok","err","message","className","concat","children","Array","map","_","i","style","left","Math","random","animationDelay","animationDuration","onSearch","lat","lon","href","target","rel"],"sources":["C:/Users/IDAN/Weather-App/weather-app/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport SearchBar from \"./components/SearchBar\";\r\nimport WeatherCard from \"./components/WeatherCard\";\r\nimport MultiCityWeather from \"./components/MultiCityWeather\";\r\nimport FiveDayForecast from \"./components/FiveDayForecast\";\r\nimport { getCoordinates, getWeather } from \"./components/WeatherDisplay\";\r\nimport \"./styles/App.css\";\r\n\r\nfunction App() {\r\n  const [weather, setWeather] = useState(null);\r\n  const [coords, setCoords] = useState(null);\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [timeOfDay, setTimeOfDay] = useState(\"day\");\r\n\r\n  // Determine time of day for dynamic backgrounds\r\n  useEffect(() => {\r\n    const hour = new Date().getHours();\r\n    if (hour >= 6 && hour < 18) {\r\n      setTimeOfDay(\"day\");\r\n    } else if (hour >= 18 && hour < 20) {\r\n      setTimeOfDay(\"sunset\");\r\n    } else {\r\n      setTimeOfDay(\"night\");\r\n    }\r\n  }, []);\r\n\r\n  const handleSearch = async (city) => {\r\n    setError(\"\");\r\n    setWeather(null);\r\n    setCoords(null);\r\n    setLoading(true);\r\n\r\n    try {\r\n      const { latitude, longitude } = await getCoordinates(city);\r\n      setCoords({ latitude, longitude });\r\n\r\n      const response = await fetch(\"/weather\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ city }),\r\n      });\r\n      const contentType = response.headers.get(\"content-type\");\r\n      if (!contentType || !contentType.includes(\"application/json\")) {\r\n        const text = await response.text();\r\n        throw new Error(\"Server error: \" + text);\r\n      }\r\n      const data = await response.json();\r\n      if (response.ok) {\r\n        setWeather(data);\r\n      } else {\r\n        setError(data.error || \"An error occurred.\");\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || \"An error occurred.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`app-container ${timeOfDay}`}>\r\n      <div className=\"background-overlay\"></div>\r\n      <div className=\"floating-particles\">\r\n        {[...Array(20)].map((_, i) => (\r\n          <div\r\n            key={i}\r\n            className=\"particle\"\r\n            style={{\r\n              left: `${Math.random() * 100}%`,\r\n              animationDelay: `${Math.random() * 3}s`,\r\n              animationDuration: `${3 + Math.random() * 4}s`,\r\n            }}\r\n          ></div>\r\n        ))}\r\n      </div>\r\n\r\n      <main className=\"main-content\">\r\n        <header className=\"header\">\r\n          <div className=\"logo-container\">\r\n            <div className=\"logo-icon\">üå§Ô∏è</div>\r\n            <div className=\"logo-text\">\r\n              <h1 className=\"app-title\">Weatherly</h1>\r\n              <p className=\"subtitle\">Your weather companion</p>\r\n            </div>\r\n          </div>\r\n        </header>\r\n\r\n        <section className=\"search-section\">\r\n          <SearchBar onSearch={handleSearch} />\r\n        </section>\r\n\r\n        <section className=\"weather-display-section\">\r\n          {loading && (\r\n            <div className=\"loading-container\">\r\n              <div className=\"loading-spinner\"></div>\r\n              <p className=\"loading-text\">Fetching weather data...</p>\r\n            </div>\r\n          )}\r\n\r\n          {weather && !loading && (\r\n            <div className=\"weather-content\">\r\n              <WeatherCard weather={weather} />\r\n              {coords && (\r\n                <div className=\"forecast-wrapper\">\r\n                  <FiveDayForecast\r\n                    lat={coords.latitude}\r\n                    lon={coords.longitude}\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {error && (\r\n            <div className=\"error-container\">\r\n              <div className=\"error-icon\">‚ö†Ô∏è</div>\r\n              <p className=\"error-message\">{error}</p>\r\n            </div>\r\n          )}\r\n        </section>\r\n\r\n        <section className=\"multi-city-section\">\r\n          <MultiCityWeather />\r\n        </section>\r\n      </main>\r\n\r\n      <footer className=\"footer\">\r\n        <div className=\"footer-content\">\r\n          <span className=\"footer-text\">\r\n            Powered by{\" \"}\r\n            <a\r\n              href=\"https://open-meteo.com/\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"footer-link\"\r\n            >\r\n              Open-Meteo\r\n            </a>\r\n          </span>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}